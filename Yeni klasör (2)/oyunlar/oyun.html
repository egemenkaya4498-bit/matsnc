<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matematik Bilgi Yarışması</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/animejs/lib/anime.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Space+Grotesk:wght@500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .title-font {
            font-family: 'Space Grotesk', sans-serif;
        }
        /* Seçenek butonları için animasyon */
        .option-btn {
            transition: all 0.3s ease;
        }
        .option-btn:hover {
            transform: translateY(-2px);
        }
        /* İlerleme çubuğu animasyonu */
        .progress-bar {
            transition: width 0.5s ease;
        }
        /* Cevap renkleri */
        .correct-answer {
            background-color: #10b981 !important; /* Zümrüt Yeşili */
            color: white !important;
        }
        .wrong-answer {
            background-color: #ef4444 !important; /* Kırmızı */
            color: white !important;
        }
        /* Seçilen cevabın çerçevesi */
        .selected-answer {
            border: 2px solid #3b82f6 !important; /* Mavi */
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50">
    <div id="app" class="container mx-auto px-4 py-8 max-w-4xl">
        <header class="text-center mb-12">
            <h1 class="title-font text-4xl md:text-5xl font-bold text-indigo-800 mb-2">Matematik Bilgi Yarışması</h1>
            <p class="text-lg text-indigo-600">Matematik bilginizi test edin!</p>
            <div class="w-24 h-1 bg-indigo-400 mx-auto mt-4 rounded-full"></div>
        </header>

        <div id="start-screen" class="bg-white rounded-xl shadow-lg p-8 text-center">
            <div class="mb-8">
                <div class="w-32 h-32 mx-auto mb-6">
                    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="100" cy="100" r="80" fill="#6366F1" opacity="0.1"/>
                        <path fill="#6366F1" d="M100 30L120.7 70.7L165 79.3L132.5 110L140 155L100 135L60 155L67.5 110L35 79.3L79.3 70.7L100 30Z"/>
                    </svg>
                </div>
                <h2 class="title-font text-3xl font-bold text-gray-800 mb-3">8. Sınıf Matematik Bilgi Yarışması</h2>
                <p class="text-gray-600 mb-6">Matematik bilginizi test eden 15 soruluk bir Quiz.</p>
            </div>
            <button id="start-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-lg transition-all transform hover:scale-105 shadow-md">
                Yarışmayı Başlat
            </button>
            <div class="mt-6 text-sm text-gray-500">
                <i data-feather="alert-circle" class="inline mr-1" width="16"></i>
                <span>Sadece 1. Ünite Soruları Vardır. İlerde Tüm Üniteler Gelecektir...</span>
            </div>
        </div>

        <div id="quiz-screen" class="hidden bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="h-2 bg-gray-200">
                <div id="progress-bar" class="progress-bar h-full bg-indigo-500" style="width: 0%"></div>
            </div>

            <div class="p-6 md:p-8">
                <div class="flex justify-between items-center mb-6">
                    <span id="question-counter" class="text-sm font-medium text-indigo-600 bg-indigo-100 px-3 py-1 rounded-full">Soru 1/15</span>
                    <span id="score-display" class="text-sm font-medium text-gray-600">Puan: 0</span>
                </div>

                <h2 id="question-text" class="text-xl font-semibold text-gray-800 mb-6"></h2>

                <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-8">
                    </div>

                <div class="flex justify-center">
                    <button id="next-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg transition-all opacity-50 cursor-not-allowed">
                        Sıradaki Soru
                    </button>
                </div>
            </div>
        </div>

        <div id="results-screen" class="hidden bg-white rounded-xl shadow-lg p-8 text-center">
            <div class="w-24 h-24 mx-auto mb-6 flex items-center justify-center rounded-full bg-indigo-100">
                <i data-feather="award" class="text-indigo-600" width="48" height="48"></i>
            </div>
            <h2 class="title-font text-3xl font-bold text-gray-800 mb-3">Yarışma Tamamlandı!</h2>
            <p id="result-score" class="text-4xl font-bold text-indigo-600 mb-2">12/15</p>
            <p id="result-message" class="text-gray-600 mb-8">Harika iş çıkardın! Çarpanları iyi biliyorsun!</p>
            <div class="flex justify-center gap-4">
                <button id="retry-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg transition-all">
                    Tekrar Dene
                </button>
                <button id="home-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg transition-all" onclick="window.location.href='https://matsnc.netlify.app/'">
                    Ana Sayfaya Dön
                </button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "12 ve 18'in en büyük ortak böleni (EBOB) kaçtır?",
                options: ["2", "3", "6", "9"],
                answer: "6"
            },
            {
                question: "Aşağıdakilerden hangisi bir asal sayıdır?",
                options: ["38", "45", "47", "51"],
                answer: "47"
            },
            {
                question: "4 ve 6'nın en küçük ortak katı (EKOK) kaçtır?",
                options: ["12", "24", "36", "48"],
                answer: "12"
            },
            {
                question: "Hangi sayı tüm tam sayıların çarpanıdır?",
                options: ["1", "3", "5", "7"],
                answer: "1"
            },
            {
                question: "28 ile 8 in EBOB'u aşağıdakilerden hangisidir?",
                options: ["2", "4", "6", "8"],
                answer: "4"
            },
            {
                question: "Tanım: 2 Basamaklı bir sayının kendisi hariç diğer çarpanlarının toplamının, basamaklarındaki rakamlarının toplamı asal ise o sayı KAYA sayısıdır. Buna göre Tanımı verilen sayı aşağıdakilerden hangisidir?",
                options: ["10", "15", "20", "21"],
                answer: "21"
            },
            {
                question: "24 ve 36'nın EKOK'u kaçtır?",
                options: ["36", "54", "72", "96"],
                answer: "72"
            },
            {
                question: "5 ve 7'nin EKOK'u kaçtır?",
                options: ["5", "7", "12", "35"],
                answer: "35"
            },
            {
                question: "Aşağıdaki sayılardan hangisinin tam olarak üç çarpanı vardır?",
                options: ["4", "6", "9", "12"],
                answer: "9"
            },
            {
                question: "15'in tüm çarpanları nelerdir?",
                options: ["1, 3, 5, 15", "1, 15", "3, 5", "1, 3, 15"],
                answer: "1, 3, 5, 15"
            },
            {
                question: "Hangi sayı hem 15'İn hem de 4'ün katıdır?",
                options: ["20", "30", "52", "60"],
                answer: "12"
            },
            {
                question: "20'nin en büyük asal çarpanı aşağıdakilerde hangisidir?",
                options: ["7", "5", "3", "2"],
                answer: "2"
            },
            {
                question: "Hangi küme sadece asal sayılar içerir?",
                options: ["2, 3, 5", "3, 9, 11", "7, 14, 17", "13, 21, 23"],
                answer: "2, 3, 5"
            },
            {
                question: "15 ve 25'in EBOB'u kaçtır?",
                options: ["3", "5", "15", "25"],
                answer: "5"
            },
            {
                question: "8 ve 12'nin EKOK'u kaçtır?",
                options: ["24", "48", "96", "8"],
                answer: "24"
            },
            {
                question: "Aşağıdaki çiftlerden hangisi aralarında asaldır?",
                options: ["15,9", "12,8", "21,91", "4,56"],
                answer: "15,9"
            },
            {
                question: "Aşağıdakilerden hangisi tamkaredir?",
                options: ["2", "3", "4", "5"],
                answer: "4"
            },
            {
                question: "Aşağıdakilerden hangisi 9 ile 18 in en küçük ortak katıdır(EKOK)?",
                options: ["9", "18", "27", "36"],
                answer: "18"
            },
            {
                question: "18 ve 24'ün ortak çarpanları nelerdir?",
                options: ["1, 2, 3, 6", "1, 2, 3, 6, 9", "2, 3, 4, 6", "1, 6"],
                answer: "1, 2, 3, 6"
            },
            {
                question: "25'ten sonraki 5'in katı nedir?",
                options: ["26", "30", "35", "50"],
                answer: "30"
            },
            {
                question: "Hangi sayı çifti aralarında asaldır?",
                options: ["8 ve 12", "9 ve 10", "15 ve 20", "21 ve 28"],
                answer: "9 ve 10"
            },
            {
                question: "İlk beş asal sayının toplamı kaçtır?",
                options: ["11", "17", "28", "32"],
                answer: "28"
            },
            {
                question: "1 ile 20 arasında en çok çarpana sahip olan sayı hangisidir?",
                options: ["12", "16", "18", "20"],
                answer: "12"
            },
            {
                question: "36 ve 48'in EBOB'u kaçtır?",
                options: ["6", "12", "18", "24"],
                answer: "12"
            },
            {
                question: "6 ve 15'in EKOK'u kaçtır?",
                options: ["15", "30", "45", "90"],
                answer: "30"
            },
            {
                question: "Aşağıdakilerden hangisi hem 2'ye hem de 3'e bölünebilir?",
                options: ["10", "15", "18", "25"],
                answer: "18"
            },
            {
                question: "Hem 4'ün hem de 6'nın katı olan en küçük sayı kaçtır?",
                options: ["12", "24", "36", "48"],
                answer: "12"
            },
            {
                question: "1 ile 100 arasında hem tam kare hem de tam küp olan sayı nedir?",
                options: ["16", "27", "64", "81"],
                answer: "64"
            },
            {
                question: "28 ve 42'nin en büyük ortak böleni (EBOB) kaçtır?",
                options: ["7", "14", "21", "28"],
                answer: "14"
            },
            {
                question: "Aşağıdakilerden hangisi 24'ün çarpan çiftidir?",
                options: ["2 ve 12", "3 ve 9", "4 ve 7", "6 ve 5"],
                answer: "2 ve 12"
            },
        ];
        function getRandomQuestions(questionPool, count) {
            // Havuzu kopyala ve rastgele sırala
            const shuffled = [...questionPool].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const retryBtn = document.getElementById('retry-btn');
        const homeBtn = document.getElementById('home-btn'); 
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const questionCounter = document.getElementById('question-counter');
        const scoreDisplay = document.getElementById('score-display');
        const progressBar = document.getElementById('progress-bar');
        const resultScore = document.getElementById('result-score');
        const resultMessage = document.getElementById('result-message');
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedQuestions = [];
        let answerSelected = false;
        function initQuiz() {
            if (questions.length < 15) {
                alert("Uyarı: Soru havuzunda en az 15 soru olmalıdır. Lütfen daha fazla soru ekleyin.");
                return;
            }
            currentQuestionIndex = 0;
            score = 0;
            selectedQuestions = getRandomQuestions(questions, 15); 
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultsScreen.classList.add('hidden');
            
            showQuestion();
        }
        function showQuestion() {
            answerSelected = false;
            const question = selectedQuestions[currentQuestionIndex];
            questionText.textContent = question.question;
            questionCounter.textContent = `Soru ${currentQuestionIndex + 1}/${selectedQuestions.length}`;
            scoreDisplay.textContent = `Puan: ${score}`;
            const progressWidth = ((currentQuestionIndex) / selectedQuestions.length) * 100;
            progressBar.style.width = `${progressWidth}%`;
            optionsContainer.innerHTML = '';
            question.options.forEach(option => {
                const optionElement = document.createElement('button');
                optionElement.className = 'option-btn text-left bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-3 px-4 rounded-lg border border-gray-300';
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectAnswer(option, optionElement));
                optionsContainer.appendChild(optionElement);
            });
            nextBtn.classList.add('opacity-50');
            nextBtn.classList.add('cursor-not-allowed');
        }
        function selectAnswer(selectedOption, optionElement) {
            if (answerSelected) return;
            
            answerSelected = true;
            const currentQuestion = selectedQuestions[currentQuestionIndex];
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected-answer');
                btn.disabled = true;
            });
            optionElement.classList.add('selected-answer');
            if (selectedOption === currentQuestion.answer) {
                optionElement.classList.add('correct-answer');
                score++;
                scoreDisplay.textContent = `Puan: ${score}`;
            } else {
                optionElement.classList.add('wrong-answer');
                document.querySelectorAll('.option-btn').forEach(btn => {
                    if (btn.textContent === currentQuestion.answer) {
                        btn.classList.add('correct-answer');
                    }
                });
            }
            nextBtn.classList.remove('opacity-50');
            nextBtn.classList.remove('cursor-not-allowed');
        }
        function nextQuestion() {
            if (!answerSelected) return;
            currentQuestionIndex++;
            if (currentQuestionIndex < selectedQuestions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }
        function showResults() {
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
            progressBar.style.width = '100%'; 
            const totalQuestions = selectedQuestions.length;
            const percentage = Math.round((score / totalQuestions) * 100);
            resultScore.textContent = `${score}/${totalQuestions}`;
            if (percentage === 100) {
                resultMessage.textContent = "Mükemmel skor! Sen tam bir Çarpanlar ve Katlar ustasısın!";
            } else if (percentage >= 80) {
                resultMessage.textContent = "Harika iş! Bu konuda çok iyi bilgiye sahipsin!";
            } else if (percentage >= 60) {
                resultMessage.textContent = "İyi çaba! Puanını yükseltmek için alıştırmaya devam et!";
            } else {
                resultMessage.textContent = "Çalışmaya devam et! Daha fazla pratikle çok daha iyi olacaksın!";
            }
        }
        startBtn.addEventListener('click', initQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        retryBtn.addEventListener('click', initQuiz);
        feather.replace();
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        document.onkeydown = function(e) {
            if (e.key === 'F12' || e.keyCode === 123) {
                return false;
            }
            if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.keyCode === 73)) {
                return false;
            }
            if (e.ctrlKey && (e.key === 'U' || e.keyCode === 85)) {
                return false;
            }
        }
        document.body.onselectstart = function() { return false; }
    </script>
</body>
</html>